
# SRoll3 parameter file generated by /scratch/cnt0028/ias1717/SHARED/bware/wrk_sroll21/run_stim/run_srollstim_sroll2.pyc
# for smottet
# on OCCIGEN
# at Fri Oct 18 14:17:10 2019

# PARAMETERS

BeginRing   = 240
EndRing     = 26050

#MODIFIABLE
RSTEP       = 1000

AVFFF       = 857
AVGFREEFREE = 0
AVFSYNC     = 857
AVGSYNCHRO  = 0
AVGDUST100  = 0
AVFDUST     = 857
AVGDUST     = 0
AVFCO       = 857
AVG12CO     = 0
AVG13CO     = 0

CALCODUST   = 0

CUTRG      = 1
DODIPCAL   = 1
DOGAINDIP  = 1
DOMAXVRAIE = 1
D_NOPOL    = 0
Nside      = 2048
REMDIP     = 1
REMHDIP = 1
ADDDIP     = 0
KCMBIN     = 0
SAVEINTMAP = 0
TESTPOL    = 1
XI2STOP    = 1.0
seuilcond  = 1e-06
NITT       = 10
FITANGLE   = 1
FITPOLEFF  = 1
saveCOV    = 0
saveCO     = 0
delta_psi  = 0.0
verbose    = 0
TEMPLATE_NSIDE = 1024
#POSSIBLE BUG
#BUILDTF    = 4
BUILDTF = 0

number_of_SEED = 1
SEED1          = 1234

number_of_ADDCO13 = 0

GAINSTEP = 1

number_of_NADU = 4
# 857GHz
NADU1 = 16
NADU2 = 16
NADU3 = 16
NADU4 = 16

number_of_NADUSTEP = 4
# 857GHz
NADUSTEP1 = 1
NADUSTEP2 = 1
NADUSTEP3 = 1
NADUSTEP4 = 1

#PARAMETRES RELIE AU RESEAU DE NEURONE
number_of_DOCNN = 13
DOCNN1 = 0
DOCNN2 = 0
DOCNN3 = 0
DOCNN4 = 0
DOCNN5 = 1
DOCNN6 = 1
DOCNN7 = 1
DOCNN8 = 0
DOCNN9 = 0
DOCNN10 = 0
DOCNN11 = 0
DOCNN12 = 0
DOCNN13 = 0



CALLCNN = /home1/datahome/tfoulqui/MySroll/extraball/SrollEx/sroll/py_function_pwst_pol.py


#PARAMETRES DIMENSION CNN: 12*32*32 carte nside =12 et 2 canaux Q et U
CNN_XSIZE = 256
CNN_YSIZE = 256
CNN_RESIDU = 0.0
###
# PARAMETRES ARCHITECTURE CNN
CNN_NCOMP = 16
CNN_NDCONV = 4
CNN_KERNELSZ = 4
CNN_SCALE = 4
CNN_NPAR_FC = 1
CNN_DO_RELU = 1
CNN_DO_FULLY_CONNECTED = 1

# PARAMETRES FONCTION DE COUT
CNN_LOSS = LOGCOSH
# Choix: RMSE, EXP, LOGCOSH, HUBER   

# Normalization des donnees par la std dans le calcul du loss
CNN_NORMALIZE_DATA_IN_LOSS = 0

# Delta pour la fonction de cout de Huber
CNN_HUBER_LOSS_DELTA = 1e-4

# PARAMETRES APPRENTISSAGE
CNN_ITT = 300 
CNN_NUM_EPOCHS  = 2000
CNN_EVAL_FREQ = 100
CNN_LEARNING_RATE = 0.03
CNN_DECAY_RATE = 0.995
CNN_BATCHSZ = 1

# FLAGS DEBUG
CNN_TEST_CONVERGENCE = 0
CNN_NO_NET = 0

# SEED GENERATEUR NOMBRE ALEATOIRE
CNN_RANDSEED = 1234

# PARAMETRES TRANSFER LEARNING
CNN_DO_TRANSFER_LEARNING = 0
CNN_DO_SAVE_WEIGHTS = 0
CNN_WEIGHTS = /home1/datawork/tfoulqui/data/heal_new
##

number_of_Calibration = 4
# 857GHz
Calibration1 = 3.30076826046e-16
Calibration2 = 3.55811287601e-16
Calibration3 = 3.18681631353e-16
Calibration4 = 2.219187708e-16

number_of_CrossPol = 4
# 857GHz
CrossPol1 = 0.887
CrossPol2 = 0.883
CrossPol3 = 0.856
CrossPol4 = 0.897

number_of_NEP = 4
# 857GHz
NEP1 = 2.17663807827e-16
NEP2 = 2.36372259024e-16
NEP3 = 2.08546999122e-16
NEP4 = 2.01804359351e-16

number_of_Monop = 4
# 857GHz
Monop1 = 2.7228011807e-14
Monop2 = 3.20205460445e-14
Monop3 = 2.14043411258e-14
Monop4 = 3.3436884405e-14

number_of_FSLCOEF = 4
# 857GHz
FSLCOEF1 = 1.0
FSLCOEF2 = 1.0
FSLCOEF3 = 1.0
FSLCOEF4 = 1.0

number_of_OUT_NOPOL = 5
OUT_NOPOL1 = 1
OUT_NOPOL2 = 1
OUT_NOPOL3 = 1
OUT_NOPOL4 = 1
OUT_NOPOL5 = 1

number_of_bolomask = 20
# bolomask for 857ghz map
bolomask1 = 1
bolomask2 = 1
bolomask3 = 1
bolomask4 = 1
# bolomask for 857-1 map
bolomask5 = 1
bolomask6 = 0
bolomask7 = 0
bolomask8 = 0
# bolomask for 857-2 map
bolomask9 = 0
bolomask10 = 1
bolomask11 = 0
bolomask12 = 0
# bolomask for 857-3 map
bolomask13 = 0
bolomask14 = 0
bolomask15 = 1
bolomask16 = 0
# bolomask for 857-4 map
bolomask17 = 0
bolomask18 = 0
bolomask19 = 0
bolomask20 = 1

number_of_MAPRINGS = 5
MAPRINGS1 = 19
MAPRINGS2 = 1
MAPRINGS3 = 1
MAPRINGS4 = 1
MAPRINGS5 = 1


# INPUTS

Mask              = /home1/datawork/tfoulqui/data/MASK_2048_GALACTIC/mask_RD_857
Theo_CO           = /home1/datawork/tfoulqui/data/MAP_JMD_1024/NEW_cleaned_12CO.float32.bin
Theo_13CO         = /home1/datawork/tfoulqui/data/MAP_JMD_1024/NEW_cleaned_13CO.float32.bin
Theo_Dust_I       = /home1/datawork/tfoulqui/data/MAP_JMD_1024/Dust_New_I
#Theo_Dust_Q       = /home1/datawork/tfoulqui/data/MAP_JMD_1024/Dust_New_Q  Mettre en null pour pol
#Theo_Dust_U       = /home1/datawork/tfoulqui/data/MAP_JMD_1024/Dust_New_U  Mettre en null pour pol

Theo_Dust_Q       = /home1/datawork/tfoulqui/data/MAP_JMD_1024/Dust_New_Q 
Theo_Dust_U       = /home1/datawork/tfoulqui/data/MAP_JMD_1024/Dust_New_U 
#Theo_TDust_I =
#Theo_TDust_Q =
#Theo_TDust_U =
#Theo_FREEFREE =
TEMPLATEMAP = /home1/datawork/tfoulqui/data/MAP_JMD_2048/map_857_2018.float32.bin
#in_synchro_map_I =
#in_synchro_map_Q =
#in_synchro_map_U =

number_of_in_template_map_I = 4
in_template_map_I1 = /home1/datawork/tfoulqui/data/MAP_JMD_2048/map_857_2018.float32.bin
in_template_map_I2 = /home1/datawork/tfoulqui/data/MAP_JMD_2048/map_857_2018.float32.bin
in_template_map_I3 = /home1/datawork/tfoulqui/data/MAP_JMD_2048/map_857_2018.float32.bin
in_template_map_I4 = /home1/datawork/tfoulqui/data/MAP_JMD_2048/map_857_2018.float32.bin

number_of_in_template_map_Q = 4
in_template_map_Q1 = /home1/datawork/tfoulqui/data/MAP_JMD_2048/map_null.float32.bin
in_template_map_Q2 = /home1/datawork/tfoulqui/data/MAP_JMD_2048/map_null.float32.bin
in_template_map_Q3 = /home1/datawork/tfoulqui/data/MAP_JMD_2048/map_null.float32.bin
in_template_map_Q4 = /home1/datawork/tfoulqui/data/MAP_JMD_2048/map_null.float32.bin

number_of_in_template_map_U = 4
in_template_map_U1 = /home1/datawork/tfoulqui/data/MAP_JMD_2048/map_null.float32.bin
in_template_map_U2 = /home1/datawork/tfoulqui/data/MAP_JMD_2048/map_null.float32.bin
in_template_map_U3 = /home1/datawork/tfoulqui/data/MAP_JMD_2048/map_null.float32.bin
in_template_map_U4 = /home1/datawork/tfoulqui/data/MAP_JMD_2048/map_null.float32.bin

number_of_in_polar_fit_Q = 4
in_polar_fit_Q1 = /home1/datawork/tfoulqui/data/MAP_JMD_1024/353_Q.float32.bin
in_polar_fit_Q2 = /home1/datawork/tfoulqui/data/MAP_JMD_1024/353_Q.float32.bin
in_polar_fit_Q3 = /home1/datawork/tfoulqui/data/MAP_JMD_1024/353_Q.float32.bin
in_polar_fit_Q4 = /home1/datawork/tfoulqui/data/MAP_JMD_1024/353_Q.float32.bin

number_of_in_polar_fit_U = 4
in_polar_fit_U1 = /home1/datawork/tfoulqui/data/MAP_JMD_1024/353_U.float32.bin
in_polar_fit_U2 = /home1/datawork/tfoulqui/data/MAP_JMD_1024/353_U.float32.bin
in_polar_fit_U3 = /home1/datawork/tfoulqui/data/MAP_JMD_1024/353_U.float32.bin
in_polar_fit_U4 = /home1/datawork/tfoulqui/data/MAP_JMD_1024/353_U.float32.bin

number_of_Signal_noPS = 4
Signal_noPS1 = /home1/datawork/tfoulqui/data/PBR_JMD/857-1_REP6_THEO_SIMU
Signal_noPS2 = /home1/datawork/tfoulqui/data/PBR_JMD/857-2_REP6_THEO_SIMU
Signal_noPS3 = /home1/datawork/tfoulqui/data/PBR_JMD/857-3_REP6_THEO_SIMU
Signal_noPS4 = /home1/datawork/tfoulqui/data/PBR_JMD/857-4_REP6_THEO_SIMU


number_of_ADU = 4
ADU1 = /home1/datawork/tfoulqui/data/PBR_JMD/857-1_REP6_adutot
ADU2 = /home1/datawork/tfoulqui/data/PBR_JMD/857-2_REP6_adutot
ADU3 = /home1/datawork/tfoulqui/data/PBR_JMD/857-3_REP6_adutot
ADU4 = /home1/datawork/tfoulqui/data/PBR_JMD/857-4_REP6_adutot

number_of_Badring = 4
Badring1 = /home1/datawork/tfoulqui/data/calROIs/25_857_1_discarded_rings_dx11
Badring2 = /home1/datawork/tfoulqui/data/calROIs/35_857_2_discarded_rings_dx11
Badring3 = /home1/datawork/tfoulqui/data/calROIs/65_857_3_discarded_rings_dx11
Badring4 = /home1/datawork/tfoulqui/data/calROIs/74_857_4_discarded_rings_dx11

number_of_DipOrb_noPS = 4
DipOrb_noPS1 = /home1/datawork/tfoulqui/data/PBR_JMD/857-1_REP6_diporb_quat
DipOrb_noPS2 = /home1/datawork/tfoulqui/data/PBR_JMD/857-2_REP6_diporb_quat
DipOrb_noPS3 = /home1/datawork/tfoulqui/data/PBR_JMD/857-3_REP6_diporb_quat
DipOrb_noPS4 = /home1/datawork/tfoulqui/data/PBR_JMD/857-4_REP6_diporb_quat

number_of_Hit_noPS = 4
Hit_noPS1 = /home1/datawork/tfoulqui/data/PBR_JMD/857-1_REP6_hit
Hit_noPS2 = /home1/datawork/tfoulqui/data/PBR_JMD/857-2_REP6_hit
Hit_noPS3 = /home1/datawork/tfoulqui/data/PBR_JMD/857-3_REP6_hit
Hit_noPS4 = /home1/datawork/tfoulqui/data/PBR_JMD/857-4_REP6_hit

number_of_Ptg_noPS = 4
Ptg_noPS1 = /home1/datawork/tfoulqui/data/PBR_JMD/857-1_REP6_ptg
Ptg_noPS2 = /home1/datawork/tfoulqui/data/PBR_JMD/857-2_REP6_ptg
Ptg_noPS3 = /home1/datawork/tfoulqui/data/PBR_JMD/857-3_REP6_ptg
Ptg_noPS4 = /home1/datawork/tfoulqui/data/PBR_JMD/857-4_REP6_ptg

number_of_Theo_noPS = 20
Theo_noPS1 = /home1/datawork/tfoulqui/data/PBR_JMD/857-1_REP6_H0
Theo_noPS2 = /home1/datawork/tfoulqui/data/PBR_JMD/857-2_REP6_H0
Theo_noPS3 = /home1/datawork/tfoulqui/data/PBR_JMD/857-3_REP6_H0
Theo_noPS4 = /home1/datawork/tfoulqui/data/PBR_JMD/857-4_REP6_H0
Theo_noPS5 = /home1/datawork/tfoulqui/data/PBR_JMD/857-1_REP6_H1
Theo_noPS6 = /home1/datawork/tfoulqui/data/PBR_JMD/857-2_REP6_H1
Theo_noPS7 = /home1/datawork/tfoulqui/data/PBR_JMD/857-3_REP6_H1
Theo_noPS8 = /home1/datawork/tfoulqui/data/PBR_JMD/857-4_REP6_H1
Theo_noPS9 = /home1/datawork/tfoulqui/data/PBR_JMD/857-1_REP6_H2
Theo_noPS10 = /home1/datawork/tfoulqui/data/PBR_JMD/857-2_REP6_H2
Theo_noPS11 = /home1/datawork/tfoulqui/data/PBR_JMD/857-3_REP6_H2
Theo_noPS12 = /home1/datawork/tfoulqui/data/PBR_JMD/857-4_REP6_H2
Theo_noPS13 = /home1/datawork/tfoulqui/data/PBR_JMD/857-1_REP6_H3
Theo_noPS14 = /home1/datawork/tfoulqui/data/PBR_JMD/857-2_REP6_H3
Theo_noPS15 = /home1/datawork/tfoulqui/data/PBR_JMD/857-3_REP6_H3
Theo_noPS16 = /home1/datawork/tfoulqui/data/PBR_JMD/857-4_REP6_H3
Theo_noPS17 = /home1/datawork/tfoulqui/data/PBR_JMD/857-1_REP7_2
Theo_noPS18 = /home1/datawork/tfoulqui/data/PBR_JMD/857-2_REP7_2
Theo_noPS19 = /home1/datawork/tfoulqui/data/PBR_JMD/857-3_REP7_2
Theo_noPS20 = /home1/datawork/tfoulqui/data/PBR_JMD/857-4_REP7_2

number_of_fsl = 4
fsl1 = /home1/datawork/tfoulqui/data/PBR_JMD/857-1_REP6_fsl
fsl2 = /home1/datawork/tfoulqui/data/PBR_JMD/857-2_REP6_fsl
fsl3 = /home1/datawork/tfoulqui/data/PBR_JMD/857-3_REP6_fsl
fsl4 = /home1/datawork/tfoulqui/data/PBR_JMD/857-4_REP6_fsl

number_of_phase = 4
phase1 = /home1/datawork/tfoulqui/data/PBR_JMD/857-1_REP6_phregul
phase2 = /home1/datawork/tfoulqui/data/PBR_JMD/857-2_REP6_phregul
phase3 = /home1/datawork/tfoulqui/data/PBR_JMD/857-3_REP6_phregul
phase4 = /home1/datawork/tfoulqui/data/PBR_JMD/857-4_REP6_phregul

number_of_rgcnn = 4
rgcnn1 = /home1/datawork/tfoulqui/data/PBR_JMD/NULL_rgadutot.int32.bin
rgcnn2 = /home1/datawork/tfoulqui/data/PBR_JMD/NULL_rgadutot.int32.bin
rgcnn3 = /home1/datawork/tfoulqui/data/PBR_JMD/NULL_rgadutot.int32.bin
rgcnn4 =/home1/datawork/tfoulqui/data/PBR_JMD/NULL_rgadutot.int32.bin

# OUTPUTS

number_of_MAP = 5

MAP1 = /home1/datawork/tfoulqui/MAP/sroll2_debug_857ghz_857ghz
MAP2 = /home1/datawork/tfoulqui/MAP/sroll2_debug_857ghz_857-1
MAP3 = /home1/datawork/tfoulqui/MAP/sroll2_debug_857ghz_857-2
MAP4 = /home1/datawork/tfoulqui/MAP/sroll2_debug_857ghz_857-3
MAP5 = /home1/datawork/tfoulqui/MAP/sroll2_debug_857ghz_857-4

number_of_Out_Offset = 4
Out_Offset1 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-1_offset
Out_Offset2 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-2_offset
Out_Offset3 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-3_offset
Out_Offset4 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-4_offset

number_of_Out_Offset_corr = 4
Out_Offset_corr1 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-1_offset_corr
Out_Offset_corr2 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-2_offset_corr
Out_Offset_corr3 = /home1/datawork/tfoulqui/VEC/sroll2_debug__857ghz_857-3_offset_corr
Out_Offset_corr4 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-4_offset_corr

number_of_Out_xi2 = 4
Out_xi21 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-1_xi2
Out_xi22 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-2_xi2
Out_xi23 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-3_xi2
Out_xi24 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-4_xi2

number_of_Out_xi2_corr = 4
Out_xi2_corr1 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-1_xi2_corr
Out_xi2_corr2 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-2_xi2_corr
Out_xi2_corr3 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-3_xi2_corr
Out_xi2_corr4 = /home1/datawork/tfoulqui/VEC/sroll2_debug_857ghz_857-4_xi2_corr
